<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Â¿Quieres ser mi ValentÃ­n?</title>

<style>
body{
    margin:0;
    padding:0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#ff9a9e,#fad0c4);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    text-align:center;
    overflow:hidden;
}

.container{
    background:white;
    padding:40px;
    border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,0.2);
    position:relative;
}

.intro-gif{
    width:250px;
    border-radius:15px;
    margin-bottom:20px;
}

.final-gif{
    width:450px;
    max-width:90%;
    border-radius:15px;
}

h1{
    color:#ff4d6d;
}

button{
    padding:15px 30px;
    font-size:18px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    margin:10px;
    transition:0.2s;
}

#yes{
    background:#ff4d6d;
    color:white;
}

#no{
    background:#444;
    color:white;
    position:absolute;
}

.celebration{
    display:none;
}
</style>
</head>

<body>

<div class="container" id="main">

<img class="intro-gif"
src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif">

<h1>Â¿Quieres ser mi ValentÃ­n este 14 de febrero? ğŸ’–</h1>

<button id="yes">Claro que sÃ­ ğŸ˜</button>
<button id="no">Obvio no ğŸ™„</button>

</div>

<div class="celebration" id="celebration">
    <h1>Â¡SABÃA QUE DIRÃAS QUE SÃ! ğŸ’˜ğŸ‰</h1>
    <img class="final-gif" src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">
</div>

<audio id="romanticSound" src="Yippee-tbh-creature-Sound-Effect.mp3"></audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
let yesBtn = document.getElementById("yes");
let noBtn = document.getElementById("no");
let container = document.getElementById("main");

/* BOTÃ“N IMPOSIBLE */
document.addEventListener("mousemove", function(e){

    let btnRect = noBtn.getBoundingClientRect();

    let distance = Math.hypot(
        e.clientX - (btnRect.left + btnRect.width/2),
        e.clientY - (btnRect.top + btnRect.height/2)
    );

    if(distance < 120){
        moveButton();
    }

});

document.addEventListener("touchstart", moveButton);

function moveButton(){

    let containerRect = container.getBoundingClientRect();
    let btnRect = noBtn.getBoundingClientRect();

    let maxX = containerRect.width - btnRect.width;
    let maxY = containerRect.height - btnRect.height;

    let randomX = Math.random() * maxX;
    let randomY = Math.random() * maxY;

    noBtn.style.left = randomX + "px";
    noBtn.style.top = randomY + "px";
}

yesBtn.addEventListener("click", function(){

    document.getElementById("main").style.display = "none";
    document.getElementById("celebration").style.display = "block";

    document.getElementById("romanticSound").play();

    lanzarConfeti();
});


function lanzarConfeti(){

    var duration = 3000;
    var end = Date.now() + duration;

    (function frame() {
        confetti({
            particleCount: 5,
            angle: 60,
            spread: 55,
            origin: { x: 0 }
        });

        confetti({
            particleCount: 5,
            angle: 120,
            spread: 55,
            origin: { x: 1 }
        });

        if (Date.now() < end) {
            requestAnimationFrame(frame);
        }
    }());
}
</script>

</body>
</html>
